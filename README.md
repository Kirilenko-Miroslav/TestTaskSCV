# TestTaskSCV
**Дано:**<br /><br />
Файл в формате csv (разделитель ; ) в котором содержатся точки движения машины (траектория).<br />
Каждая строчка файла – точка в истории. Содержит:<br />
- дату в формате YYYY-mm-dd HH:ii:ss<br />
- мгновенную скорость в данной точке<br />
- долготу (lon) в ° градусах в виде десятичной дроби<br />
- широту (lat) в ° градусах в виде десятичной дроби<br /><br />

Дана контрольная зона - окружность с координатами и радиусом:<br />
- долгота 32.02394<br />
- широта 54.8707<br />
- радиус 5 000 метров.<br /><br />

***Задание:***<br /><br />

Приложение должно находит csv файлы в той же папке, в которой оно запущено.<br />
Распарсить все файлы и вывести в тестовый файл out.csv информацию:<br />
- имя входного файла<br />
- кол-во посещений данной контрольной зоны за период с 2016.04.01 00:00:00 по 2016.10.01 24:00:00<br /><br />

Приложить скомпилированный exe файл и исходные коды приложения.<br /><br />
Посещение контрольной зоны это ситуация, когда траектория движения машины пересекает границы
окружности (т. е. есть одна точка траектории находится вне окружности, а следующая внутри).<br />

![geyVqV4F3t8](https://user-images.githubusercontent.com/73870030/144600331-6be7bced-ef5c-45b4-9135-6470e3025c66.jpg)<br />

***Дополнительная информация:***<br /><br />

<pre>
// расстояние в метрах между двумя точками
public static double GetGeoDistance(double lon1, double lat1, double lon2, double lat2)
{
  const double gpsEarthRadius = 6371000;
  const double pi = Math.PI;
  var latRad1 = lat1 * pi / 180;
  var lonRad1 = lon1 * pi / 180;
  var latRad2 = lat2 * pi / 180;
  var lonRad2 = lon2 * pi / 180;
  var angle = Math.Cos(latRad1) * Math.Cos(latRad2) * Math.Pow(Math.Sin((lonRad1 - lonRad2)
 / 2), 2) + Math.Pow(Math.Sin((latRad1 - latRad2) / 2), 2);
  angle = 2 * Math.Asin(Math.Sqrt(angle));
  return Math.Abs(angle * gpsEarthRadius);
}
</pre>
